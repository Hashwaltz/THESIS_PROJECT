{% extends 'hr/admin/admin_base.html' %}
{% block title %}HR Admin - Add Department{% endblock %}

{% block content %}
<main class="content-wrap">
  <header class="content-head">
    <h1><b>Add Department</b></h1>
  </header>

  <div class="container">
    <header>Department Details</header>

    <!-- ðŸ”¹ Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-messages">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <!-- IMPORTANT: method="POST" so Flask receives form data -->
    <form method="POST" action="{{ url_for('hr_admin.add_department') }}">
      {{ form.hidden_tag() }} <!-- for CSRF token if using Flask-WTF -->

      <div class="form first">
        <div class="details personal">
          <div class="fields">

            <!-- Department Name -->
            <div class="input-field">
              <label>Department Name</label>
              {{ form.name(class="form-control", placeholder="Enter department name", required=true) }}
            </div>

            <!-- Description -->
            <div class="input-field">
              <label>Description</label>
              {{ form.description(class="form-control", placeholder="Enter department description") }}
            </div>

            <!-- Department Head -->
            <div class="input-field">
              <label>Department Head</label>
              {{ form.head_id(class="form-control") }}
            </div>

          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="submit">
          <span class="btnText">Submit</span>
          <i class="uil uil-navigator"></i>
        </button>
      </div>
    </form>
  </div>
</main>
{% endblock %}
