{% extends 'payroll/admin/payroll_admin_base.html' %}
{% block title %}Employee Benefits{% endblock %}
{% block content %}
<main class="content-wrap">
  <header class="content-head">
    <h1><b>Employee Benefits Management</b></h1>
    <div class="action">
      <button onclick="window.location.href='{{ url_for('payroll_admin.add_deduction') }}'">Add Deduction</button>
      <button onclick="window.location.href='{{ url_for('payroll_admin.add_allowance') }}'">Add Allowance</button>
    </div>
  </header>

  <div class="table-container">
    <caption>Employee List</caption>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Employee Name</th>
          <th>Position</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for emp in employees %}
        <tr>
          <td data-label="ID">{{ emp.id }}</td>
          <td data-label="Name">{{ emp.first_name }} {{ emp.last_name }}</td>
          <td data-label="Position">{{ emp.position | replace("<", "") | replace(">", "") }}</td>
          <td data-label="Actions">
            <a class="btn-action" href="{{ url_for('payroll_admin.manage_employee_benefits', employee_id=emp.id, benefit_type='deductions') }}">
              Manage Deductions
            </a>
            <a class="btn-action" href="{{ url_for('payroll_admin.manage_employee_benefits', employee_id=emp.id, benefit_type='allowances') }}">
              Manage Allowances
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="reminders-section">
    <h2>Reminders</h2>
    <ul>
      <li>Click “Manage Deductions” to assign or edit employee deductions.</li>
      <li>Click “Manage Allowances” to assign or edit employee benefits.</li>
      <li>All changes are reflected immediately after saving.</li>
    </ul>
  </div>
</main>
{% endblock %}
