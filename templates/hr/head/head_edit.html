{% extends 'hr/head/head_base.html' %}
{% block title %}Employee Details{% endblock %}

{% block content %}
<main class="content-wrap">

  <header class="content-head">
    <h1><b>Employee Details</b></h1>
    <form action="{{ url_for('dept_head.employees') }}" method="get" style="display:inline;">
      <button type="submit" class="back-btn">‚Üê Back to Employee List</button>
    </form>
  </header>

  <center>
  <div class="edit-container">
    <header>View complete employee information</header>

    <form method="POST" action="{{ url_for('dept_head.edit_employee', employee_id=employee.id) }}">
      <div class="form first">
        <div class="details personal">
          <div class="fields">

            <div class="input-field">
              <label>First Name</label>
              <input type="text" name="first_name" value="{{ employee.first_name }}" readonly />
            </div>

            <div class="input-field">
              <label>Middle Name</label>
              <input type="text" name="middle_name" value="{{ employee.middle_name }}" readonly />
            </div>

            <div class="input-field">
              <label>Last Name</label>
              <input type="text" name="last_name" value="{{ employee.last_name }}" readonly />
            </div>

            <div class="input-field">
              <label>Email</label>
              <input type="email" name="email" value="{{ employee.email }}" readonly />
            </div>

            <div class="input-field">
              <label>Mobile Number</label>
              <input type="text" name="phone" value="{{ employee.phone }}" readonly />
            </div>

            <div class="input-field">
              <label>Address</label>
              <input type="text" name="address" value="{{ employee.address }}" placeholder="Blk 12 Lot 8, Brgy. Poblacion, Norzagaray, Bulacan 3013" readonly />
            </div>

            <div class="input-field">
              <label>Salary</label>
              <input type="number" name="salary" value="{{ employee.salary }}" readonly />
            </div>

            <div class="input-field">
              <label>Date of Birth</label>
              <input type="date" name="date_of_birth" 
                value="{{ employee.date_of_birth.strftime('%Y-%m-%d') if employee.date_of_birth else '' }}" readonly />
            </div>

            <div class="input-field">
              <label>Date Hired</label>
              <input type="date" name="date_hired" 
                value="{{ employee.date_hired.strftime('%Y-%m-%d') if employee.date_hired else '' }}" readonly />
            </div>

            <div class="input-field">
              <label>Position</label>
              <select name="position" disabled>
                <option disabled selected></option>
                {% for pos in positions %}
                  <option value="{{ pos.id }}" {% if employee.position_id == pos.id %}selected{% endif %}>
                    {{ pos.name }}
                  </option>
                {% endfor %}
              </select>
            </div>

            <div class="input-field">
              <label>Gender</label>
              <select name="gender" disabled>
                <option disabled selected>Select gender</option>
                <option value="Male" {% if employee.gender == 'Male' %}selected{% endif %}>Male</option>
                <option value="Female" {% if employee.gender == 'Female' %}selected{% endif %}>Female</option>
              </select>
            </div>

            <div class="input-field">
              <label>Marital Status</label>
              <select name="marital_status" disabled>
                <option disabled selected>Select status</option>
                <option value="Single" {% if employee.marital_status == 'Single' %}selected{% endif %}>Single</option>
                <option value="Married" {% if employee.marital_status == 'Married' %}selected{% endif %}>Married</option>
                <option value="Separated" {% if employee.marital_status == 'Separated' %}selected{% endif %}>Separated</option>
                <option value="Divorced" {% if employee.marital_status == 'Divorced' %}selected{% endif %}>Divorced</option>
                <option value="Widowed" {% if employee.marital_status == 'Widowed' %}selected{% endif %}>Widowed</option>
              </select>
            </div>

            <div class="input-field">
              <label>Department</label>
              <select name="department" disabled>
                <option disabled selected>Select dept</option>
                {% for dept in departments %}
                  <option value="{{ dept.id }}" {% if employee.department_id == dept.id %}selected{% endif %}>
                    {{ dept.name }}
                  </option>
                {% endfor %}
              </select>
            </div>

            <div class="input-field">
              <label>Status</label>
              <select name="status" disabled>
                <option disabled selected>Select Status</option>
                <option value="1" {% if employee.active == True %}selected{% endif %}>Active</option>
                <option value="0" {% if employee.active == False %}selected{% endif %}>Inactive</option>
              </select>
            </div>

            <div class="input-field">
              <label>Emergency Contact Name</label>
              <input type="text" name="emergency_contact" value="{{ employee.emergency_contact }}" readonly />
            </div>

            <div class="input-field">
              <label>Emergency Contact Number</label>
              <input type="text" name="emergency_phone" value="{{ employee.emergency_phone }}" readonly />
            </div>

          </div>
        </div>
      </div>
    </form>
  </div>
  </center>

</main>

<style>
.edit-container {
  width: 80%;
  max-width: 900px;
  background: #fff;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.edit-container header {
  font-size: 1.5rem;
  font-weight: bold;
  margin-bottom: 20px;
  text-align: center;
}
.fields {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}
.input-field {
  display: flex;
  flex-direction: column;
}
.input-field label {
  font-weight: bold;
  margin-bottom: 5px;
}
.input-field input,
.input-field select {
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 6px;
  background-color: #f9f9f9;
}
.back-btn {
  background-color: #007bff;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}
.back-btn:hover {
  background-color: #0056b3;
}
</style>

{% endblock %}
